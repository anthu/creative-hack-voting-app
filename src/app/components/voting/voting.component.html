<section>

  <h1>Voting</h1>
  <h2>Hi User from team {{(me$ | async)?.teamName}}</h2>

  <div class="instructions">
    <p>
      Please vote for every category and press the floating button.
    </p>
    <p>
      You can only vote in one category for one team.
    </p>

  </div>

  <div class="team-list">
    <mat-accordion>
      <mat-expansion-panel *ngFor="let team of teams$ | async">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{team.name}}

            <app-label *ngIf="hasTeamVote(team.id)" [text]="getVoteTextForTeam(team.id)"></app-label>
          </mat-panel-title>


        </mat-expansion-panel-header>
        <p>
          {{ team.description }}
        </p>
        <mat-action-row>
          <button mat-stroked-button (click)="onVotePitch(team.id)">Pitch ðŸ•º</button>
          <button mat-stroked-button (click)="onVoteTechnology(team.id)">Technology ðŸ¤–</button>
          <button mat-stroked-button (click)="onVoteWtf(team.id)">WTF ðŸ¤ª</button>
        </mat-action-row>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</section>

<button *ngIf="!showSpinner" mat-fab class="fab-button" (click)="onSave()">
  <mat-icon>save</mat-icon>
</button>
<mat-spinner *ngIf="showSpinner" class="fab-button" [diameter]="60"></mat-spinner>
